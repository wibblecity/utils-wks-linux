#!/bin/bash

### import of wci ni profile
THIS_ARGS="$@"
NI_PROFILE=~/.bash_profile-ni
if [ -f "${NI_PROFILE}" ] ; then
  . "${NI_PROFILE}"
else
  exit 1
fi
#####

USAGE_INFO="LENGTH"

LENGTH="$1"

TARGET_SCRIPT_DIR="${SCRIPT_DIR_PARENT_1}/executables/python"
TARGET_SCRIPT_NAME="generate_random_string.py"
TARGET_SCRIPT="${TARGET_SCRIPT_DIR}/${TARGET_SCRIPT_NAME}"

if [ ! -z "${LENGTH}" ] ; then
  LENGTH_OPTS="--min ${LENGTH} --max ${LENGTH}"
fi

if [ -x "${TARGET_SCRIPT}" ] ; then
  "${TARGET_SCRIPT}" ${LENGTH_OPTS}
  if [ "$?" -ne "0" ] ; then
    usage "TARGET_SCRIPT: ${TARGET_SCRIPT_NAME} exited with errors" "${USAGE_INFO}"
  fi
else
  usage "TARGET_SCRIPT: ${TARGET_SCRIPT_NAME} is not executable" "${USAGE_INFO}"
fi
